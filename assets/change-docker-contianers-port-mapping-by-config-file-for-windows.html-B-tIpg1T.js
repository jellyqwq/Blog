import{_ as o}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as t,o as i,c as r,b as n,d as s,e as a,a as c}from"./app-XoEOURcT.js";const p={},d=c(`<h2 id="abstract" tabindex="-1"><a class="header-anchor" href="#abstract" aria-hidden="true">#</a> Abstract</h2><p>对于一个已经生成的容器而言, 暂时没有通过docker命令对其自身的端口进行映射的操作, 所以要借助修改配置文件来设置端口映射.</p><h2 id="introduction" tabindex="-1"><a class="header-anchor" href="#introduction" aria-hidden="true">#</a> Introduction</h2><p>在进行该操作前, 需要将docker关闭, 否则修改将不生效</p><p>在Windows下的docker, 使用的 <em>WSL2(Windows Subsystem for Linux)</em> 来运行docker. 在docker协助下安装完WSL后可以通过访问 <code>\\\\wsl$</code> 来访问WSL的目录. 这个目录就是WSL的根目录了.</p><figure><img src="https://cdn.jsdelivr.net/gh/jellyqwq/PictureBed@main/2022/12/image.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>具体的容器目录在: <code>\\\\wsl$\\docker-desktop-data\\data\\docker\\containers</code></p><p>在上述目录中可以看到所有的Containers</p><figure><img src="https://cdn.jsdelivr.net/gh/jellyqwq/PictureBed@main/2022/12/df229045-6a2e-48b3-8ad7-75400bc5dff2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>选择一个容器, 可以看到有 <code>config.v2.json</code> 和 <code>hostconfig.json</code> 两个配置文件</p><figure><img src="https://cdn.jsdelivr.net/gh/jellyqwq/PictureBed@main/2022/12/dd11bf5c-0033-4bf4-8053-65f4c7a29016.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>分别修改两个配置文件, 使容器的9870端口映射到宿主机(Windows)的19870上.</p><p>为配置文件 <code>hostconfig.json</code> 修改 <em>PortBingings</em> 参数</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;PortBindings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;9870/tcp&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;HostIp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;HostPort&quot;</span><span class="token operator">:</span> <span class="token string">&quot;19870&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置文件 <code>config.v2.json</code> 修改 <em>Config.ExposedPorts</em>, 如果在容器初始化的时候没有指定端口, 该值将不存在, 需要手动添加</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;ExposedPorts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;9870/tcp&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="references" tabindex="-1"><a class="header-anchor" href="#references" aria-hidden="true">#</a> References</h2>`,17),l={href:"https://stackoverflow.com/questions/42250222/where-is-docker-image-location-in-windows-10",target:"_blank",rel:"noopener noreferrer"},u={href:"https://blog.csdn.net/liu865033503/article/details/100120113",target:"_blank",rel:"noopener noreferrer"},g={href:"https://blog.csdn.net/keyiis_sh/article/details/124192764",target:"_blank",rel:"noopener noreferrer"};function f(h,k){const e=t("ExternalLinkIcon");return i(),r("div",null,[d,n("ol",null,[n("li",null,[n("a",l,[s("https://stackoverflow.com/questions/42250222/where-is-docker-image-location-in-windows-10"),a(e)])]),n("li",null,[n("a",u,[s("https://blog.csdn.net/liu865033503/article/details/100120113"),a(e)])]),n("li",null,[n("a",g,[s("https://blog.csdn.net/keyiis_sh/article/details/124192764"),a(e)])])])])}const b=o(p,[["render",f],["__file","change-docker-contianers-port-mapping-by-config-file-for-windows.html.vue"]]);export{b as default};
